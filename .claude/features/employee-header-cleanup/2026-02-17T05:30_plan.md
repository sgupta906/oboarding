# Plan: employee-header-cleanup (Bug #30)

**Feature:** employee-header-cleanup
**Created:** 2026-02-17T05:30
**Status:** complete
**Based On:** 2026-02-17T05:30_research.md

---

## Architecture Overview

This is a deletion-only cleanup. No new components or architectural changes.

```
BEFORE:                                  AFTER:
+----------------------------------+     +----------------------------------+
| NavBar (App.tsx, z-30)           |     | NavBar (App.tsx, z-30)           |
| [Logo] [Views] [Dark] [SignOut]  |     | [Logo] [Views] [Dark] [SignOut]  |
+----------------------------------+     +----------------------------------+
| EmployeeHeader (z-20) [REDUNDANT]|     | (removed)                        |
| [Shield] Employee View [SignOut] |     |                                  |
+----------------------------------+     +----------------------------------+
| WelcomeHeader                    |     | WelcomeHeader                    |
| StepTimeline                     |     | StepTimeline                     |
+----------------------------------+     +----------------------------------+
```

The "no onboarding assigned" card also loses its redundant Sign Out button:

```
BEFORE:                                  AFTER:
+---------------------------+            +---------------------------+
| No onboarding assigned    |            | No onboarding assigned    |
| Check back soon!          |            | Check back soon!          |
| [LogOut] Sign Out         |            |                           |
+---------------------------+            +---------------------------+
```

## Tech Stack

No changes. Same React + TypeScript + Tailwind CSS + Vitest stack.

## File Structure

### Files to Modify

1. **`src/views/EmployeeView.tsx`** (133 lines -> ~90 lines)
   - Line 7: Remove `LogOut, Shield` from lucide-react import
   - Lines 29-68: Delete entire `EmployeeHeader` function component (~40 lines)
   - Line 106: Remove `<EmployeeHeader />` from JSX
   - Line 105 comment: Remove `{/* Header with Employee Status and Sign Out */}`

2. **`src/components/OnboardingHub.tsx`** (290 lines -> ~283 lines)
   - Line 12: Change `import { User, LogOut } from 'lucide-react'` to `import { User } from 'lucide-react'`
   - Lines 217-223: Delete the Sign Out `<button>` block (~7 lines)

### Files to Modify (Tests)

3. **`src/views/EmployeeView.test.tsx`** (209 lines -> ~225 lines)
   - Add 2 regression tests at end of describe block

### Files NOT Modified (confirmed correct)

- `src/App.tsx` -- NavBar rendering already correct
- `src/components/ui/NavBar.tsx` -- already complete
- `src/components/onboarding/EmployeeSelector.tsx` -- correctly gated

## Data Model Changes

None.

## Component Architecture

No new components. The component tree simplifies:

```
BEFORE:                          AFTER:
EmployeeView                     EmployeeView
  EmployeeHeader (DELETED)         WelcomeHeader
  WelcomeHeader                    StepTimeline
  StepTimeline
```

## Testing Strategy

### Unit Tests (2 new, 13 existing unchanged)

| Test | File | Description |
|------|------|-------------|
| NEW | EmployeeView.test.tsx | EmployeeView does NOT render a sign-out button |
| NEW | EmployeeView.test.tsx | EmployeeView does NOT render "Active Onboarding" label |
| EXISTING (13) | EmployeeView.test.tsx | All existing tests pass unchanged (no EmployeeHeader references) |

### Visual Verification

After implementation, visually verify:
- Employee view shows single NavBar header, no duplicate
- "No onboarding assigned" card has no Sign Out button
- Manager viewing employee view shows NavBar + EmployeeSelector, no EmployeeHeader

## Implementation Notes

### Decisions

1. **Delete EmployeeHeader entirely** rather than refactoring -- NavBar already provides all functionality
2. **Keep the "no onboarding assigned" card** but remove only the Sign Out button -- the card itself is useful feedback
3. **Keep `User` icon import** in OnboardingHub.tsx -- still used for the "no onboarding" card icon

### Patterns

- No new patterns introduced. Standard component deletion.

### Trade-offs

- None. This is purely redundant code removal with no downsides.

## Non-Goals

- NOT restructuring NavBar or its behavior
- NOT adding responsive/mobile handling (that is bug #29)
- NOT changing the EmployeeSelector gating logic
- NOT modifying any other views or components
